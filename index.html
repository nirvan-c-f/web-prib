<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portofolio Nirvan</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-9T7a6UcJQyhdw+ejfd84YibBrPvbnH+Gn8YN7JUvkK2l7JHjTht90D6+nXQ1x7X7mmw0ODHfSmm5I8x0QSGtdw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <nav id="navbar">
        <div class="container">
            <div class="navbar-header">
                <a href="#" class="brand">Nirvan C</a>
                <div class="navbar-toggle" onclick="toggleNavbar(this)">
                    <div class="bar"></div>
                    <div class="bar"></div>
                    <div class="bar"></div>
                </div>
                <div class="navbar-links">
                    <a href="#home" onclick="closeNavbar()">Home</a>
                    <a href="#about" onclick="closeNavbar()">About</a>
                    <a href="#social-media" onclick="closeNavbar()">Social Media</a>
                </div>
            </div>
        </div>
    </nav>
    <div class="sidebar" id="sidebar">
        <a href="#home" onclick="closeNavbar()">Home</a>
        <a href="#about" onclick="closeNavbar()">About</a>
        <a href="#social-media" onclick="closeNavbar()">Social Media</a>
    </div>
    <div class="overlay" id="overlay"></div>
    <section id="home" class="section home-section">
        <div class="container">
            <h1>Welcome</h1>
            <a href="#" class="cta-button">Klik disini</a>
        </div>
    </section>    
    <section id="about" class="section">
        <div class="container">
            <h2>About Me</h2>
        </div>
    </section>
    <section id="social-media" class="section">
        <div class="container">
            <h2>Social Media</h2>
        </div>
    </section>
    <footer>
        <div class="container">
            <p>This Website created by <a href="#" class="ig">Nirvan C</a></p>
        </div>
    </footer>
    <script>
        function toggleNavbar(x) {
            x.classList.toggle("active");
            var sidebar = document.getElementById('sidebar');
            var overlay = document.getElementById('overlay');
            sidebar.classList.toggle("active");
            overlay.classList.toggle("active");
            updateNavbarBackground();
        }

        function closeNavbar() {
            var navbarToggle = document.querySelector('.navbar-toggle');
            var sidebar = document.getElementById('sidebar');
            var overlay = document.getElementById('overlay');
            if (navbarToggle.classList.contains('active')) {
                navbarToggle.classList.remove('active');
                sidebar.classList.remove('active');
                overlay.classList.remove('active');
            }
            updateNavbarBackground();
        }

        function updateNavbarBackground() {
            var navbar = document.getElementById('navbar');
            var homeSection = document.getElementById('home');
            var homeRect = homeSection.getBoundingClientRect();

            if (homeRect.bottom <= 0 || window.innerWidth <= 768) {
                navbar.classList.add('blue');
                navbar.classList.remove('transparent');
            } else {
                navbar.classList.add('transparent');
                navbar.classList.remove('blue');
            }
        }

        function startShaking() {
            var button = document.querySelector('.cta-button');
            setInterval(function() {
                button.classList.add('shake');
                setTimeout(function() {
                    button.classList.remove('shake');
                }, 500);
            }, 2000); 
        }

        window.addEventListener('load', startShaking);
        window.addEventListener('scroll', updateNavbarBackground);
        window.addEventListener('resize', updateNavbarBackground);
        window.addEventListener('load', updateNavbarBackground);
    </script>
</body>
</html>
